<h1 id="title-posts">Популярные статьи</h1>

<div class="carousel-">
<div id="carouselExampleControls" class="carousel slide" data-ride="carousel" data-interval="6000">
  <div class="carousel-inner" role="listbox">
    <% default = "active" %>
    <% @posts.each do |post| %>
      <% if post[:rank] == 1 %>
        <div class="carousel-item <%= default %>">
          <% default = nil %>
          <%= link_to((image_tag post.image.url), post_path(post)) %>
          <p><%= link_to(post.title, post_path(post)) %></p>
          <span><%= link_to(post.summary, post_path(post)) %></span>
        </div>
      <% end %>
    <% end %>
  </div>
  <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>

<div class="between-groups">
  <ul class="rank2">
    <% @posts.each do |post| %>
      <% if post[:rank] == 2 %>
        <li class="block">
          <%= link_to((image_tag post.image.url), post_path(post)) %>
        </li>
      <% end %>
    <% end %>
        <li class="helper"></li>
  </ul>
</div>

<div class="between-groups">
  <ul class="rank3">
    <% @posts.each do |post| %>
      <% if post[:rank] == 3 %>
        <li class="rank3-li">
          <%= link_to((image_tag post.image.url), post_path(post)) %>
        </li>
      <% end %>
    <% end %>
        <li class="helper"></li>
  </ul>
</div>
